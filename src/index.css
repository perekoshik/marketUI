@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    @apply font-sans bg-bg text-txt antialiased;
  }
}

/* premium feel */
:root {
  --blur: 12px;
  --bg: 222 47% 97%;
  --bg-soft: 222 44% 94%;
  --bg-card: 0 0% 100%;
  --txt: 226 38% 15%;
  --txt-muted: 222 16% 45%;
  --border: 222 33% 88%;
}

.dark {
  --bg: 219 39% 6%;
  --bg-soft: 219 35% 9%;
  --bg-card: 219 35% 12%;
  --txt: 210 40% 93%;
  --txt-muted: 210 18% 65%;
  --border: 213 27% 30%;
}

.glass {
  background: hsl(var(--bg-card));
  border: 1px solid hsl(var(--border));
  box-shadow: 0 8px 24px rgba(15, 23, 42, 0.08);
}

.dark .glass {
  background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
  backdrop-filter: blur(var(--blur));
  -webkit-backdrop-filter: blur(var(--blur));
  border: 1px solid rgba(255,255,255,0.06);
  box-shadow: 0 10px 28px rgba(0,0,0,0.45);
}

.card-hover {
  transition: transform .18s ease, box-shadow .18s ease;
}
.card-hover:hover { transform: translateY(-2px); box-shadow: 0 12px 28px rgba(15, 23, 42, 0.12) }

.dark .card-hover:hover { box-shadow: 0 12px 32px rgba(0,0,0,0.48); }

.market-card {
  @apply w-full overflow-hidden rounded-2xl glass text-left transition-colors duration-150;
}

/* Hide scrollbars on horizontal pill list */
.no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
.no-scrollbar::-webkit-scrollbar { display: none; }

/* Progressive image styles to avoid black flashes in Telegram WebView */
.image-wrap { position: relative; width: 100%; height: 100%; background: hsl(var(--bg-card)); }
.dark .image-wrap { background: #0b0f14; }
.image-ph { position: absolute; inset: 0; background: linear-gradient(180deg, rgba(15,23,42,0.08), rgba(15,23,42,0.02)); }
.dark .image-ph { background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02)); }
.img-progressive { position: absolute; inset: 0; width: 100%; height: 100%; object-fit: cover; opacity: 0; transition: opacity .18s ease; background: hsl(var(--bg-card)); }
.dark .img-progressive { background: #0b0f14; }
.img-progressive.is-loaded { opacity: 1; }
.image-fallback { position: absolute; inset: 0; display:flex; align-items:center; justify-content:center; color: hsla(var(--txt-muted), .7); font-size:12px; }

/* Safe area for Telegram bottom bar */
:root { --safe-bottom: env(safe-area-inset-bottom); }
.pb-safe { padding-bottom: calc(var(--safe-bottom, 0px)); }
body { padding-bottom: var(--safe-bottom); }

@media (prefers-reduced-motion: reduce) {
  .card-hover { transition: none; }
  .card-hover:hover { transform: none; box-shadow: 0 8px 24px rgba(0,0,0,0.3); }
  .img-progressive { transition: none; }
}
